/*
 * This is a manifest file that'll be compiled into application.css, which will include all the files
 * listed below.
 *
 * Any CSS and SCSS file within this directory, lib/assets/stylesheets, or any plugin's
 * vendor/assets/stylesheets directory can be referenced here using a relative path.
 *
 * You're free to add application-wide styles to this file and they'll appear at the bottom of the
 * compiled file so the styles you add here take precedence over styles defined in any other CSS/SCSS
 * files in this directory. Styles in this file should be added after the last require_* statement.
 * It is generally better to create a new file per style scope.
 *
 *= require_tree .
 *= require_self
 */
@import "bootstrap";

@charset "UTF-8";

@font-face {
  font-family: 'PixelMplus10-Regular';
  src: font-url('/assets/PixelMplus10-Regular.ttf');
}

:root {
  --main-font: #fff;
  --main-back: #000;
  --menu-logo: #00d9ff;
  --about-back-yl: #fff700;
  --about-back-bl: #007bff;
  --notice-back: #00ff89;
  --error-back: #ff0050;
  --devise-link: #078000;
  --icon-width: 40px;
  --icon-height: 40px;
  --upper-margin: 30px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  position: relative;
  min-height: 100%;
}

body {
  margin-bottom: 50px;
  font-family: 'PixelMplus10-Regular';
  color: var(--main-font);
}

.header {
  background-color: var(--main-back);

  &__link {
    color: var(--main-font);
  }

  .navbar-toggler {
    border-color: var(--main-font);
    background-color: var(--main-font);
  }
}

.top {
  width: 100%;
  height: 100vh;
  background-image: url(back/top-back.jpg);
  background-position: 50% 35%;
  background-size: cover;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  overflow: hidden;

  &__link {
    color: var(--main-font);

    &--list {
      list-style: none;
      margin-top: 95px;
      font-size: 20px;
    }

    &--bottom {
      margin-top: 10px;
    }
  }

  &__text {
    &--noscript {
      background: var(--main-back);
    }

    &--main-title{
      font-size: 120px;
    }

    &--sub-title {
      font-size: 30px;
    }
  }

  &__img {
    width: 100vw;
    position: absolute;
    top: 0%;
    left: 0%;

    &--left-hand,
    &--right-hand{
      width: 700px;
      position: absolute;
      top: 0%;
    }

    &--left-hand {
      left: -9%;
      transform: rotateZ(-45deg);
      -webkit-transform: rotateZ(-45deg);
      -moz-transform: rotateZ(-45deg);
      -ms-transform: rotateZ(-45deg);
    }

    &--right-hand {
      right: -10%;
      transform: rotateZ(40deg);
      -webkit-transform: rotateZ(40deg);
      -moz-transform: rotateZ(40deg);
      -ms-transform: rotateZ(40deg);
    }

    &--chars {
      width: 100vw;
      position: absolute;
      bottom: 0%;
      left: 0%;
      display: flex;
      justify-content: center;
      align-items: flex-end;

      &--brave {
        width: 200px;
        height: 200px;
      }

      &--knight {
        width: 140px;
        height: 140px;
      }

      &--priest {
        width: 140px;
        height: 140px;
      }

      &--princess {
        width: 140px;
        height: 170px;
      }

      &--witch {
        width: 170px;
        height: 170px;
      }
    }
  }
}

.about {
  max-width: 100vw;

  &__story::after,
  &__contents::before,
  &__char::before,
  &__char::after {
    content: "";
    display: block;
    position: absolute;
    width: 100%;
    height: 0;
    padding-top: 5%;
  }

  &__story,
  &__contents,
  &__char,
  &__something {
    padding: 20px 0 40px 0;
  }

  &__story--col,
  &__contents--col,
  &__char--col,
  &__something--col {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  &__img {
    width: 150px;
    height: 150px;
  }

  &__text {
    font-size: 18px;

    &--area {
      text-align: center;
    }

    &--left {
      padding-left: 15%;
    }

    &--right {
      padding-left: 28%;
    }

    &--story {
      color: var(--main-font);

      &::before {
        background-image: url(character/princess.png);
      }
    }

    &--contents {
      color: var(--main-font);
      width: 80%;
      margin-left: 10%;

      &::before {
        background-image: url(icon/books.png);
      }
    }

    &--char {
      color: var(--main-font);
      width: 80%;
      margin-left: 10%;

      &::before {
        background-image: url(monster/monster1.png);
      }
    }
  }

  &__header {
    writing-mode: vertical-rl;
    -ms-writing-mode: vertical-rl;
    font-size: 100px;

    &--story,
    &--char {
      margin: 10px 20px 50px 0;
    }

    &--contents
    &--something {
      margin: 10px 0 50px 20px;
    }
  }

  &__story {
    background-color: var(--about-back-yl);
    position: relative;
    color: var(--main-back);

    &::after {
      bottom: -1px;
      left: 0;
      background:
      linear-gradient(to top right, var(--about-back-bl) 48%, transparent 52%) ;
    }
  }

  &__contents {
    background-color: var(--about-back-bl);

    &--screen-area-big {
      display: flex;
      justify-content: space-around;
    }

    &--screen-area-small {
      width: 30%;
    }

    &--screen-img {
      width: 100%;
    }
  }

  &__char {
    background-color: var(--about-back-yl);
    position: relative;
    color: var(--main-back);

    &::before {
      top: -1px;
      left: 0;
      background:
      linear-gradient(to bottom right, var(--about-back-bl) 48%, transparent 52%) ;
    }


    &::after {
      bottom: -1px;
      left: 0;
      background:
      linear-gradient(to top right, var(--about-back-bl) 48%, transparent 52%) ;
    }
  }

  .something {
    background-color: var(--about-back-bl);
  }
}

.log-in {
  background-image: url(sky.jpg);
  background-position: 50% 35%;
  background-size: cover;
  height: 100vh;
}

.sign-up {
  background-image: url(sky.jpg);
  background-position: 50% 35%;
  background-size: cover;
  height: 100vh;
}

.reset-psw {
  background-image: url(sample3.png);
  background-position: 50% 35%;
  background-size: cover;
  height: 100vh;
}

.log-in__form,
.sign-up__form,
.reset-psw__form {
  text-align: center;
  height: 100vh;
  padding-top: 5%;

  h3, form {
    width: 60%;
    margin-left: 20%;
  }
  form {
    background-color: var(--main-back);
    border-radius: 10px;
    border: solid 5px var(--main-font);
    padding-bottom: 1%;
    padding-top: 2%;
  }

  .field,
  .actions {
    margin-bottom: 5%;
  }
}

.log-in__link,
.sign-up__link,
.reset-psw__link {
  color: var(--devise-link);
}

#tabBoxes {
  background-color: var(--main-font);
  height: 500px;
  padding-top: 50px;
  padding-left: 10%;
}

.tabBox {
  a,p {
    text-align: center;
    color: blue;
  }
}

.tabcontents {
  background-color: var(--main-back);
  height: 400px;
  width: 90%;
}

.error__message {
  background: var(--error-back);
  border: solid 5px var(--main-font);
  border-radius: 10px;
  margin-bottom: 20px;
  text-align: center;

  &--list {
    list-style: none;
    text-decoration: underline;
  }
}

.my-page {
  width: 100%;
  height: 100%;
  min-height: 100vh;
  background-position: 50% 50%;
  background-size: cover;
  background-image: url(road.jpg);

  &__menu {
    padding-left: 5%;
    background: var(--main-back);
    border: solid 5px var(--main-font);
    border-radius: 10px;
    margin-bottom: 20px;


    &--logo{
      background: var(--menu-logo);
      font-size: 150%;
      border: solid 5px var(--main-font);
      border-radius: 10px;
      margin-bottom: 20px;
      text-align: center;
    }

    &--icon {
      text-align: center;

      &--img {
        width: 100px;
        height: 100px;
      }
    }
  }

  &__link {
    &--modal {
      text-decoration: underline;
      color: var(--main-font);
    }
  }

}

/* 「バウンド」アニメーション（目標か記録が無い場合に該当アイコンがバウンド */
@keyframes bound {
  0% {transform: translateY(0px);}
  100% {transform: translateY(-10px);}
}

@-webkit-keyframes bound {
  0% {transform: translateY(0px);}
  100% {transform: translateY(-10px);}
}

.js-bound {
  display: inline-block;
  animation: bound 0.3S ease infinite alternate;
  -webkit-animation: bound 0.3S ease infinite alternate;
}
/* 「バウンド」アニメーションここまで */

.message {
  background: var(--main-back);
  border: solid 5px var(--main-font);
  border-radius: 10px;
  margin-bottom: 20px;
  text-align: center;
  font-size: 20px;
}

.upper-contents {
  margin-top: var(--upper-margin);
}

/* テキスト前に表示させるアイコンのCSS */
.top__link:hover:before,
.header__link:hover:before,
.my-page__menu--logo:before,
.my-page__menu--logo:after,
.my-page__menu--text:after,
.my-page__menu--text--goal:before,
.message:before {
  content: '';
  display: inline-block;
  width: var(--icon-width);
  height: var(--icon-height);
  background-size: contain;
  background-repeat: no-repeat;
  vertical-align: middle;
}

.top__link:hover,
.header__link:hover {
  text-decoration: none;
  color: var(--main-font);

  &:before {
    background-image: url(icon/cursor.png);
    width: 20px;
    height: 20px;
  }
}

.top__link--guest:before {
  background-image: url(character/brave.png);
}

.log-in__link:before {
  background-image: url(monster/monster4.png);
}

.sign-up__link:before {
  background-image: url(monster/monster1.png);
}

.reset-psw__link:before {
  background-image: url(monster/monster5.png);
}

.my-page {
  &__menu {
    &--logo {
      &:before {
        background-image: url(monster/monster13.png);
      }

      &:after {
        background-image: url(monster/monster14.png);
      }
    }

    &--text {
      &:after {
        background-image: url(icon/downward-cursor.png);
        width: 10px;
        height: 10px;
      }

      &--goal{
        margin-top: 5px;
        display: inline-block;
        width: 100%;

        &:nth-of-type(1):before {
          background-image: url(icon/red-book.png);
        }

        &:nth-of-type(2):before {
          background-image: url(icon/blue-book.png);
        }

        &:nth-of-type(3):before {
          background-image: url(icon/green-book.png);
        }

        &:nth-of-type(4):before {
          background-image: url(icon/purple-book.png);
        }
      }
    }

    &--icon {
      .active {
        &:after {
          background-image: url(icon/upward-cursor.png);
          width: 10px;
          height: 10px;
        }
      }
    }

  }
}

.master:before {
  background-image: url(character/master.png);
}

.father:before {
  background-image: url(character/father.png);
}

.knight:before {
  background-image: url(character/knight.png);
}

.priest:before {
  background-image: url(character/priest.png);
}

.princess:before {
  background-image: url(character/princess.png);
}

.witch:before {
  background-image: url(character/witch.png);
}

.clear-text:before {
  background-image: url(icon/books.png);
}
/* アイコンのCSSここまで */

.doc {
  &__card {
    margin-bottom: 10px !important;
    position: relative;

    &--img {
      width: 100%;
      height: 250px;
      object-fit: cover;
    }

    &--stage {
      position: relative;
      width: 100%;

      &-img {
        width: 100%;
        height: 100%;
      }
    }

    &--monster {
      &-left,
      &-right {
        width: 25%;
        position: absolute;
        top: 50%;
      }

      &-left {
        left: 20%;
      }

      &-right {
        left: 55%;
      }

      &-boss {
        width: 50%;
        position: absolute;
        top: 30%;
        left: 25%;
      }

      &-img {
        width: 100%;
        height: 100%;
      }
    }

    &--body {
      background-color: var(--main-back);
      width: 100%;
      p {
        overflow: hidden;
      }
    }

    &--date {
      position: absolute;
      top: 0;
      left: 0;
      background-color: var(--main-back);
      height: 13%;
      width: 20%;
      background-image: linear-gradient(-45deg, transparent 49%, white 49%, white 51%, transparent 51%, transparent);

      &-month {
        font-size: 150%;
        margin-left: 10%;
      }

      &-day {
        font-size: 150%;
        margin-left: 50%;
      }
    }

    &--bottom {
      margin-bottom: 0;
      width: 100%;
    }

  }
}

.pagination {
  justify-content: center;
  margin-top: 30px;

  a {
    border: none;
    color: var(--main-font);
    background-color: var(--main-back);
  }
}


.doc-edit {
  width: 100%;
  height: 100%;
  min-height: 100vh;
  background-position: 50% 50%;
  background-size: cover;
  background-image: url(wild_land.jpg);
}

.new-doc,
.user-edit,
.new-goal {
  background-position: 50% 50%;
  background-size: cover;
  padding-bottom: 20px;
}

.user-edit {
  background-image: url(forest.jpg);
}

.new-goal {
  background-image: url(forest.jpg);
}

.new-doc {
  background-image: url(cave.jpg);
}

.sytem-explanation {
  color: var(--menu-logo);
}

.goal-show {
  background-image: url(road.jpg);
}

.notice-message {
  text-align: center;
  background-color: var(--notice-back);
  border-radius: 10px;
  margin-top: 10px;
}

.content {
  margin: 0 auto;
  padding: 40px;
}

.modal {
  display: none;
  height: 100vh;
  position: fixed;
  top: 0;
  width: 100%;

  &__content {
    background: #fff;
    left: 50%;
    padding: 30px;
    position: absolute;
    top: 50%;
    transform: translate(-50%,-50%);
    width: 60%;
    text-align: center;
  }

  &__back {
    background: rgba(0,0,0,0.8);
    height: 100vh;
    width: 100%;
    position: absolute;
  }
}

.levelup__back,
.clear__back {
  background: rgba(0,0,0,0.8);
  height: 100vh;
  width: 100%;
  z-index: 4;
  position: fixed;
  top: 0;
}

.levelup {
  &__back {
    background: rgba(0,0,0,0.8);
    height: 100vh;
    width: 100%;
    z-index: 4;
    position: fixed;
    top: 0;
  }

  &__text {
    text-align: center;
    line-height: 30vh;

    span {
      display: inline-block;
      position: relative;
      font-size: 130px;
      color: var(--main-font);
      animation: 1s ease infinite;
      -webkit-animation: 1s ease infinite;
      animation-name: textWave;
      -webkit-animation-name: textWave;

      &:nth-of-type(2) {
        animation-delay: 0.1s;
        -webkit-animation-delay: 0.1s;
      }

      &:nth-of-type(3) {
        animation-delay: 0.2s;
        -webkit-animation-delay: 0.2s;
      }

      &:nth-of-type(4) {
        animation-delay: 0.3s;
        -webkit-animation-delay: 0.3s;
      }

      &:nth-of-type(5) {
        animation-delay: 0.4s;
        -webkit-animation-delay: 0.4s;
      }

      &:nth-of-type(6) {
        animation-delay: 0.5s;
        -webkit-animation-delay: 0.5s;
      }

      &:nth-of-type(7) {
        animation-delay: 0.6s;
        -webkit-animation-delay: 0.6s;
      }

      &:nth-of-type(8) {
        animation-delay: 0.7s;
        -webkit-animation-delay: 0.7s;
      }

      &:nth-of-type(9) {
        animation-delay: 0.8s;
        -webkit-animation-delay: 0.8s;
      }

      &:nth-of-type(10) {
        animation-delay: 0.9s;
        -webkit-animation-delay: 0.9s;
      }
    }
  }

  &__char {
    text-align: center;
    line-height: 30vh;

    img {
      display: inline-block;
      position: relative;
      width: 100px;
      height: 100px;
      animation: 1s ease infinite;
      -webkit-animation: 1s ease infinite;
      animation-name: charWave;
      -webkit-animation-name: charWave;

      &:nth-of-type(2) {
        animation-delay: 0.1s;
        -webkit-animation-delay: 0.1s;
      }

      &:nth-of-type(3) {
        animation-delay: 0.2s;
        -webkit-animation-delay: 0.2s;
      }

      &:nth-of-type(4) {
        animation-delay: 0.3s;
        -webkit-animation-delay: 0.3s;
      }
    }
  }
}

/* 記録投稿時のアニメーションCSS */
/* 1.テキストが波打つアニメーション */
@-webkit-keyframes textWave {
 0% {
   top: 0.5em;
 }
 100% {
   top: 0em;
 }
}

@keyframes textWave {
 0% {
   top: 0.5em;
 }
 100% {
   top: 0em;
 }
}

/* 2.キャラが波打つアニメーション */
@-webkit-keyframes charWave {
 0% {
   top: 1.5em;
 }
 100% {
   top: 0em;
 }
}

@keyframes charWave {
 0% {
   top: 1.5em;
 }
 100% {
   top: 0em;
 }
}

/* 3.花火が開いて消えるアニメーション（目標LV.100達成時のみ） */
@-webkit-keyframes fireworks {
	0% {
		opacity: 0;
		transform: scale(0.1);
	}
	20% {
		opacity: 1;
		transform: scale(1);
	}
	60% {
		opacity: 0.9;
		transform: scale(1.1);
	}
	100% {
		opacity: 0;
		transform: scale(1.2) translateY(30px);
	}
}

@keyframes fireworks {
	0% {
		opacity: 0;
		transform: scale(0.1);
	}
	20% {
		opacity: 1;
		transform: scale(1);
	}
	60% {
		opacity: 0.9;
		transform: scale(1.1);
	}
	100% {
		opacity: 0;
		transform: scale(1.2) translateY(30px);
	}
}

.fireworks {
  position: absolute;
  animation: fireworks linear infinite;
  -webkit-animation: fireworks linear infinite;

  &-left {
    top: 0;
    left: 0;
    animation-duration: 2s;
    -webkit-animation-duration: 2s;
  }

  &-center {
    top: -10%;
    left: 27%;
    animation-duration: 2s;
    animation-delay: 0.6s;
    -webkit-animation-duration: 2s;
    -webkit-animation-delay: 0.6s;
  }

  &-right {
    top: 10%;
    right: 0;
    animation-duration: 2s;
    animation-delay: 0.3s;
    -webkit-animation-duration: 2s;
    -webkit-animation-delay: 0.3s;
  }

  &-under-right {
    top: 50%;
    right: 0;
    animation-duration: 2s;
    animation-delay: 0.6s;
    -webkit-animation-duration: 2s;
    -webkit-animation-delay: 0.6s;
  }

  &-under-left {
    top: 50%;
    left: 0;
    animation-duration: 2s;
    animation-delay: 0.3s;
    -webkit-animation-duration: 2s;
    -webkit-animation-delay: 0.3s;
  }

  img {
    width: 300px;
    height: 300px;
  }
}

.clear__text {
  width: 50%;
  margin-left: 25%;
  position: absolute;
}


.footer {
  position: absolute;
  bottom: 0 !important;
  width: 100%;
  height: 50px;
  background-color: var(--main-back);
}

@media (min-width: 1200px) {
  .doc {
    &__card {
      &--img {
        height: 296px;
      }
    }
  }
}

@media (max-width: 991px) {
  .top {
    &__img {
      &--left-hand,
      &--right-hand {
        width: 600px;
      }

      &--left-hand {
        left: -15%;
      }

      &--right-hand {
        right: -18%;
      }
    }
  }

  .message {
    width: 90%;
    margin-left: 5%;
  }

  .log-in__form,
  .sign-up__form,
  .reset-psw__form {
    h3, form {
      width: 80%;
      margin-left: 10%;
    }
  }

  .modal__content {
    padding: 20px;
    width: 70%;
  }

  .my-page{
    &__menu {
      &--text {
        &--goal {
          width: 50%;
          display: flex;
          flex-wrap: wrap;
          margin-top: 20px;
          margin-left: 0;
        }
      }
    }
  }

  .levelup {
    &__text {
      span {
        font-size: 100px;
      }
    }
  }

}

@media (max-width: 768px) {
  .top {
    &__link {
      &--list {
        margin-top: 65px;
        font-size: 17px;
      }
    }

    &__text {
      &--main-title {
        font-size: 100px;
      }

      &--sub-title {
        font-size: 20px;
      }
    }

    &__img {
      &--left-hand,
      &--right-hand {
        width: 450px;
      }

      &--chars{
        &--brave {
          width: 170px;
          height: 170px;
        }

        &--witch {
          width: 140px;
          height: 140px;
        }

        &--princess {
          width: 110px;
          height: 140px;
        }

        .knight-img {
          width: 110px;
          height: 110px;
        }

        .priest-img {
          width: 110px;
          height: 110px;
        }
      }
    }
  }

  .about {
    &__img {
      width: 120px;
      height: 120px;
    }

    &__text {
      font-size: 13px;

      &--left {
        padding-left: 5%;
      }

      &--right {
        padding-left: 20%;
      }

      &--contents {
        width: 90%;
        margin-left: 5%;
        font-size: 17px;
      }

      &--char {
        width: 90%;
        margin-left: 5%;
        font-size: 17px;
      }
    }

    &__header {
      font-size: 70px;

      &--story,
      &--char {
        margin: 10px 0 20px 0;
      }

      &--contents,
      &--something {
        margin: 10px 0 20px 0;
      }
    }

    &__story,
    &__contents,
    &__char,
    &__something {
      padding: 10px 0 10px 0;
    }
  }

  .log-in__form,
  .sign-up__form,
  .reset-psw__form {
    h3, form {
      width: 80%;
      margin-left: 10%;
    }
  }

  .modal__content {
    width: 80%;
  }

  .levelup {
    &__text {
      span {
        font-size: 90px;
      }
    }
  }

  .fireworks {
    img {
      width: 200px;
      height: 200px;
    }
  }

}


@media (max-width: 425px) {
  .top {
    &__text {
      &--main-title {
        font-size: 90px;
      }

      &--sub-title {
        font-size: 20px;
      }
    }

    &__img {
      &--left-hand,
      &--right-hand {
        width: 300px;
      }

      &--left-hand {
        left: -17%;
      }

      &--right-hand {
        right: -23%;
      }

      &--chars {
        img {
          position: absolute;
        }

        &--brave {
          width: 140px;
          height: 140px;
          z-index: 2;
        }

        &--witch {
          width: 110px;
          height: 110px;
          left: 55%;
          z-index: 1;
        }

        &--princess {
          width: 80px;
          height: 110px;
          left: 20%;
          z-index: 1;
        }

        &--knight {
          width: 80px;
          height: 80px;
          right: 7%;
        }

        &--priest {
          width: 80px;
          height: 80px;
          left: 5%;
        }
      }

      &--link {
        &--list {
          margin-top: 30px;
          font-size: 15px;
        }
      }
    }
  }

  .message {
    width: 100%;
    margin-left: 0;
}

  .log-in__form,
  .sign-up__form,
  .reset-psw__form {
    h3, form {
      width: 100%;
      margin-left: 0%;
    }
}

  .modal__content {
    padding: 10px;
    width: 94%;
}

  .levelup {
    &__char {
      img {
        width: 60px;
        height: 60px;
      }
    }

    &__text {
      span {
        font-size: 65px;
      }
    }
  }

  .fireworks {
    &-center {
      top: 0%;
    }

    &-left {
      top: 10%;
    }

    img {
      width: 150px;
      height: 150px;
    }
  }

}

@media (max-width: 320px) {
  .top {
    &__img {
      &--left-hand,
      &--right-hand {
        width: 240px;
      }

      &--left-hand {
        left: -20%;
      }

      &--right-hand {
        right: -24%;
      }

      &--chars {
        img {
          position: absolute;
        }

        &--brave {
          width: 130px;
          height: 130px;
          z-index: 2;
        }

        &--witch {
          width: 100px;
          height: 100px;
          left: 57%;
          z-index: 1;
        }

        &--princess {
          width: 80px;
          height: 100px;
          left: 14%;
          z-index: 1;
        }

        &--knight {
          width: 70px;
          height: 70px;
          right: 0%;
        }

        &--priest {
          width: 70px;
          height: 70px;
          left: 0%;
        }
      }
    }
  }

}


